<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--  <meta charset="UTF-8" />-->
<!--  <title>Insert title here</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Payment Success</h1>-->
<!--</body>-->
<!--</html>-->

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--  <meta charset="UTF-8" />-->
<!--  <title>Payment Success</title>-->
<!--  &lt;!&ndash; Include pdfmake library &ndash;&gt;-->
<!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/pdfmake.min.js"></script>-->
<!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/vfs_fonts.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Payment Success</h1>-->
<!--<button id="downloadPdf">Download PDF</button>-->
<!--<button id="confirm">Confirm</button>-->

<!--<script>-->
<!--  // Function to generate and download PDF-->
<!--  document.getElementById('downloadPdf').addEventListener('click', function () {-->
<!--    // Define content for the PDF-->
<!--    var content = [-->
<!--      { text: 'Payment Success', style: 'header' },-->
<!--      { text: 'Your payment was successful. Thank you!', style: 'successMessage' }-->
<!--    ];-->

<!--    // Define styles-->
<!--    var styles = {-->
<!--      header: { fontSize: 24, bold: true, margin: [0, 0, 0, 20] },-->
<!--      successMessage: { fontSize: 18, margin: [0, 0, 0, 10] }-->
<!--    };-->

<!--    // Define PDF document-->
<!--    var docDefinition = {-->
<!--      content: content,-->
<!--      styles: styles-->
<!--    };-->

<!--    // Generate PDF-->
<!--    pdfMake.createPdf(docDefinition).download('payment_success.pdf');-->
<!--  });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Payment Success</title>
  <!-- Include pdfmake library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/vfs_fonts.js"></script>
</head>
<body>
<h1>Payment Success</h1>
<button id="downloadPdf">Download PDF</button>
<button id="confirm">Confirm</button>

<script>
  // Function to generate and download PDF
  document.getElementById('downloadPdf').addEventListener('click', function () {
    // Define content for the PDF
    var content = [
      { text: 'Payment Success', style: 'header' },
      { text: 'Your payment was successful. Thank you!', style: 'successMessage' }
    ];

    // Define styles
    var styles = {
      header: { fontSize: 24, bold: true, margin: [0, 0, 0, 20] },
      successMessage: { fontSize: 18, margin: [0, 0, 0, 10] }
    };

    // Define PDF document
    var docDefinition = {
      content: content,
      styles: styles
    };

    // Generate PDF
    pdfMake.createPdf(docDefinition).download('payment_success.pdf');
  });

  // Function to handle confirm button click
  document.getElementById('confirm').addEventListener('click', function () {
    // Get the learner ID entered by the user
    var learnerId = document.getElementById("learnerId").value;

    // Make an AJAX request to update payment status
    var xhr = new XMLHttpRequest();
    xhr.open("PUT", "http://localhost:9090/api/v1/payments/updatePaymentStatus/" + learnerId, true);
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        if (xhr.status === 200) {
          // Payment status updated successfully
          alert("Payment status updated successfully for learner with ID: " + learnerId);
          console.log("Payment is successful.");
        } else {
          // Failed to update payment status
          alert("Failed to update payment status for learner with ID: " + learnerId);
        }
      }
    };
    xhr.send();
  });
</script>
</body>
</html>

